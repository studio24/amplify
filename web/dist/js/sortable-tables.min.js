(()=>{"use strict";(t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})})({}),customElements.define("amplify-table-sort",class extends HTMLElement{constructor(){super();const t=[...this.querySelectorAll("thead th")].filter((function(t){return"no-sort"!==t.dataset.type})),e=[...this.querySelectorAll("col")],r=this.querySelector("tbody"),n=r.querySelectorAll("tr");t.map((function(t){return function(t){const e=document.createElement("button");(function(e){const r=document.createElement("div");r.classList.add("arrow-wrapper"),e.textContent=t.textContent,r.innerHTML='<svg fill="currentColor" focusable="false" aria-hidden="true" class="asc icon" viewBox="0 0 407.436 407.436" width="15" height="15">\n\t<polygon points="203.718,91.567 0,294.621 21.179,315.869 203.718,133.924 386.258,315.869 407.436,294.621 "/></svg>\n\t<svg fill="currentColor" focusable="false" aria-hidden="true" class="desc icon" viewBox="0 0 407.437 407.437" width="15" height="15">\n\t<polygon points="386.258,91.567 203.718,273.512 21.179,91.567 0,112.815 203.718,315.87 407.437,112.815 "/></svg>',e.appendChild(r)})(e),t.textContent="",t.appendChild(e)}(t)}));const o=t.map((function(t){return""}));function s(e,r){switch(t[e].getAttribute("data-type")){case"number":case"date":return parseFloat(r);default:return r}}t.forEach((function(i,c){i.firstChild.addEventListener("click",(function(a){!function(t,e){const i=Array.from(n),c=o[e]||"descending",a="descending"===c?1:-1;t.setAttribute("aria-sort","ascending"===c?"descending":"ascending"),i.sort((function(r,n){let o,i;t.matches('[data-type="date"]')?(o=r.querySelectorAll("td")[e].getAttribute("data-date"),i=n.querySelectorAll("td")[e].getAttribute("data-date")):(o=r.querySelectorAll("td")[e].innerHTML,i=n.querySelectorAll("td")[e].innerHTML);const c=s(e,o),l=s(e,i);switch(!0){case c>l:return 1*a;case c<l:return-1*a;case c===l:return 0}})),n.forEach((function(t){return r.removeChild(t)})),o[e]="ascending"===c?"descending":"ascending",i.forEach((function(t){return r.appendChild(t)}))}(i,c),e.forEach((function(t){t.classList.remove("js-sorted")})),e[c].classList.add("js-sorted"),document.activeElement===a.target&&t.forEach((function(t){t.firstChild!==a.target&&t.removeAttribute("aria-sort")}))}))})),this.addEventListener("keyup",(function(t){let e=t.key;if("Escape"===e||"Esc"===e||27===e){let t=document.querySelector("th[aria-sort]");t&&t.removeAttribute("aria-sort");let e=this.querySelector(".js-sorted");e&&e.classList.remove("js-sorted")}})),document.body.addEventListener("click",(function(t){if(!t.target.matches("amplify-table-sort table *")){let t=this.querySelector("th[aria-sort]");t&&t.removeAttribute("aria-sort");let e=this.querySelector(".js-sorted");e&&e.classList.remove("js-sorted")}}))}})})();